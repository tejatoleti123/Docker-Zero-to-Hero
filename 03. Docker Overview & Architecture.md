# 03. Docker Overview & Architecture

In the previous section, we understood how containers run using runtimes like runc and containerd.

Now we focus on Docker.

Docker is the most widely used container platform. It simplifies building, running, and sharing containers by providing a complete toolset around container runtimes.

Letâ€™s break it down clearly.

---

## ğŸ³ What Is Docker?

Docker is a container platform that allows you to:

- Build container images  
- Run containers  
- Manage container lifecycle  
- Share images through registries  
- Configure networking and storage  

Docker is not just a runtime.

It is a platform built on top of container runtimes.

---

## ğŸ— High-Level Docker Architecture

At a high level, Docker consists of:

1. Docker Client  
2. Docker Daemon  
3. Docker Engine  
4. Docker Registry  

Letâ€™s understand each component.

---

## ğŸ’» Docker Client

The Docker client is the command-line interface (CLI).

When you type:

    docker run nginx

You are using the Docker client.

The client:

- Accepts commands from the user  
- Sends requests to the Docker daemon  
- Displays output back to the user  

The client does not run containers directly.

---

## âš™ï¸ Docker Daemon (dockerd)

The Docker daemon is the background service.

It:

- Manages images  
- Creates containers  
- Manages networks  
- Manages volumes  
- Communicates with containerd  

The daemon does the actual work.

The client only sends instructions.

---

## ğŸ§± Docker Engine

Docker Engine includes:

- Docker CLI  
- Docker Daemon  
- REST API  

It is the complete runtime environment for building and running containers.

Internally, modern Docker uses:

Docker â†’ containerd â†’ runc â†’ Linux Kernel

This means Docker delegates low-level container creation to containerd and runc.

---

## ğŸŒ Docker Registry

A Docker registry stores container images.

Examples include:

- Docker Hub  
- Private registries  
- Cloud registries (AWS ECR, Azure ACR, etc.)

When you run:

    docker pull nginx

Docker:

1. Contacts the registry  
2. Downloads the image  
3. Stores it locally  

When you run:

    docker push my-image

Docker uploads your image to the registry.

---

## ğŸ”„ What Happens When You Run `docker run`?

Letâ€™s understand the internal flow:

When you execute:

    docker run nginx

This happens:

1. Docker CLI sends request to Docker daemon  
2. Docker daemon checks if image exists locally  
3. If not, it pulls from registry  
4. Docker daemon asks containerd to create container  
5. containerd uses runc  
6. runc creates namespaces and cgroups  
7. The container process starts  

So even though you type one command, multiple layers are involved.

---

## ğŸ§© Docker Images and Layers

Docker images are built in layers.

Each instruction in a Dockerfile creates a new layer.

Layers are:

- Immutable  
- Cached  
- Reusable  

This provides:

- Faster builds  
- Smaller storage usage  
- Efficient image distribution  

We will explore this deeply when we build custom images.

---

## ğŸ—‚ Docker Objects

Docker manages several objects:

- Images  
- Containers  
- Volumes  
- Networks  

Each object has a specific role:

Image â†’ Template  
Container â†’ Running instance  
Volume â†’ Persistent storage  
Network â†’ Communication between containers  

---

## ğŸ” Docker and Security

Docker isolates containers using:

- Linux namespaces  
- cgroups  
- Union filesystem  

However, containers share the host kernel.

So security best practices are important:

- Avoid running as root  
- Use minimal base images  
- Keep images updated  

We will discuss these in advanced sections.

---

## ğŸ§  Key Takeaways

- Docker is a container platform, not just a runtime.  
- Docker consists of client, daemon, engine, and registry integration.  
- Docker internally uses containerd and runc.  
- `docker run` triggers multiple internal processes.  
- Images are layered and optimized.  

Understanding Docker architecture helps you:

- Debug issues  
- Understand logs  
- Work confidently in production  
- Prepare for interviews  

---

## ğŸ”œ Next Step

Now that you understand Dockerâ€™s architecture, we move to the practical part:

ğŸ‘‰ [04. Docker Install](./04.%20Docker%20Install.md)

In the next section, we will install Docker and verify that everything is working correctly.

